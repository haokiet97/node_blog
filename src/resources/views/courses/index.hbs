<h1>Example App: Course</h1>
<div class="mt-4">
<div class="row">
    {{#each courses }}
    <div class="col-md-4">
        <div class="card" style="width: 18rem;">
            <img src="{{this.image}}" class="card-img-top" alt="{{this.name}}">
            <div class="card-body">
                <h5 class="card-title">{{this.name}}</h5>
                <p class="card-text">{{this.description}}</p>
                <a href="/courses/{{this._id}}/update" class="btn btn-primary">edit</a>
                <a href="/courses/{{this.slug}}" class="btn btn-primary">show</a>
                <button class="btn btn-warning" data-id="{{this._id}}" onclick="deleteCourse(this)">delete</button>
            </div>
        </div>
    </div>
    {{/each}}
</div>
</div>

<div class="form hidden">
<form method="post" id="delete-form">
    <input type="hidden" name="_method" value="DELETE"/>
</form>
</div>

<script>
function deleteCourse(course_el){
    let course_id = $(course_el).data("id")
    console.log(course_id)
    let deleteForm = $("form#delete-form")
    deleteForm.attr("action", `courses/${course_id}`)
    if (window.confirm("Do you want DELETE this coure?")) {
       deleteForm.submit()
    }
}
</script>
